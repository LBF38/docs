"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[60384],{49613:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return u}});var a=n(59496);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),p=l(n),u=o,d=p["".concat(s,".").concat(u)]||p[u]||h[u]||i;return n?a.createElement(d,r(r({ref:t},m),{},{components:n})):a.createElement(d,r({ref:t},m))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,r[1]=c;for(var l=2;l<i;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},14399:function(e,t,n){n.r(t),n.d(t,{assets:function(){return f},contentTitle:function(){return d},default:function(){return w},frontMatter:function(){return u},metadata:function(){return g},toc:function(){return b}});var a=n(665),o=n(40151),i=(n(59496),n(49613)),r=n.p+"assets/images/application-details-roles-tab-21b6cbafdd40dbb9f8f366b756144067.webp",c=n.p+"assets/images/assign-role-to-apps-78f1231a4452436d75c4ca50d1510b7d.webp",s=n.p+"assets/images/create-role-056e6b0093c607d962f4026ff797492e.webp",l=n.p+"assets/images/enable-admin-access-6c1ea49c2c35f3ba47f9cff3e0d51645.webp",m=n.p+"assets/images/management-api-access-f7795ecdb311127fc927e2f323ed47a6.webp",h=n.p+"assets/images/management-api-scopes-d51ed5ebe254b5cdc19397c9286551b7.webp",p=["components"],u={},d="Machine-to-machine RBAC",g={unversionedId:"docs/recipes/rbac/machine-to-machine-rbac",id:"docs/recipes/rbac/machine-to-machine-rbac",title:"Machine-to-machine RBAC",description:"Logto's RBAC now extends beyond users to include machines as well. We've introduced machine-to-machine role-based access control to enhance your ability to manage authorization across both users and machines.",source:"@site/docs/docs/recipes/rbac/machine-to-machine-rbac.mdx",sourceDirName:"docs/recipes/rbac",slug:"/docs/recipes/rbac/machine-to-machine-rbac",permalink:"/next/docs/recipes/rbac/machine-to-machine-rbac",draft:!1,editUrl:"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/rbac/machine-to-machine-rbac.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"\ud83d\udd10 Role-Based Access Control (RBAC)",permalink:"/next/docs/recipes/rbac/"},next:{title:"Manage permissions and roles",permalink:"/next/docs/recipes/rbac/manage-permissions-and-roles"}},f={},b=[{value:"Use the Logto management API with machine-to-machine apps and roles.",id:"use-the-logto-management-api-with-machine-to-machine-apps-and-roles",level:2},{value:"Legacy solution",id:"legacy-solution",level:3},{value:"New solution",id:"new-solution",level:3},{value:"Create a machine-to-machine role",id:"create-a-machine-to-machine-role",level:4},{value:"View the permission of Logto Management API",id:"view-the-permission-of-logto-management-api",level:4},{value:"Using machine-to-machine roles to protect your custom API resource",id:"using-machine-to-machine-roles-to-protect-your-custom-api-resource",level:2}],y={toc:b};function w(e){var t=e.components,n=(0,o.Z)(e,p);return(0,i.kt)("wrapper",(0,a.Z)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"machine-to-machine-rbac"},"Machine-to-machine RBAC"),(0,i.kt)("p",null,"Logto's RBAC now extends beyond users to include machines as well. We've introduced machine-to-machine role-based access control to enhance your ability to manage authorization across both users and machines."),(0,i.kt)("h2",{id:"use-the-logto-management-api-with-machine-to-machine-apps-and-roles"},"Use the Logto management API with machine-to-machine apps and roles."),(0,i.kt)("p",null,"The Logto management API is a handy tool for connecting to the Logto backend service. With machine-to-machine RBAC, consider creating specific roles and assigning them to your machine-to-machine apps. This method allows you to have better control over various machine-to-machine apps, each with its own set of permissions and roles."),(0,i.kt)("h3",{id:"legacy-solution"},"Legacy solution"),(0,i.kt)("p",null,"If you want to use this machine-to-machine app for accessing ",(0,i.kt)("a",{parentName:"p",href:"https://docs.logto.io/docs/references/core/#management-api"},"Management API"),', we previously had this "Enable admin access" in the Advanced settings tab.'),(0,i.kt)("img",{width:"800",src:l,alt:"enable admin access"}),(0,i.kt)("p",null,"For users who had previously enabled this feature, we have removed this setting and now automatically assign a role called, \u201cManagement API Access\u201d, which grants access to the Logto management API."),(0,i.kt)("img",{width:"800",src:m,alt:"management api access"}),(0,i.kt)("h3",{id:"new-solution"},"New solution"),(0,i.kt)("p",null,"Now, when using the Logto management API, it relies entirely on role-based access controls."),(0,i.kt)("h4",{id:"create-a-machine-to-machine-role"},"Create a machine-to-machine role"),(0,i.kt)("p",null,"You can create machine-to-machine (M2M) roles in the Role section and assign these roles to the respective machine-to-machine apps. Just go to Roles, and click Create Role, you will notice there will be a new setting called \u201cRole type\u201d. Select \u201cMachine-to-machine app role\u201d and assign the permission of Logto Management API."),(0,i.kt)("img",{width:"800",src:s,alt:"create role"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Permissions for the Logto Management API are exclusively available to machine-to-machine app roles.")),(0,i.kt)("p",null,"And then assigned the role to the M2M app you have."),(0,i.kt)("img",{width:"800",src:c,alt:"assign role to apps"}),(0,i.kt)("p",null,'You may notice that the creation process aligns with the typical RBAC creation flow, but we\'ve introduced an additional role category known as the "machine-to-machine app role." This enables you to customize the permissions specifically for these machine-to-machine roles.'),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Machine-to-machine roles can only be assigned to Machine-to-Machine apps. It can\u2019t be assigned to users or other types of apps.")),(0,i.kt)("h4",{id:"view-the-permission-of-logto-management-api"},"View the permission of Logto Management API"),(0,i.kt)("img",{width:"800",src:h,alt:"management api scopes"}),(0,i.kt)("img",{width:"800",src:r,alt:"application details roles tab"}),(0,i.kt)("p",null,"In the future, we plan to democratize the permissions for the Logto Management API. This means you will have the ability to create more detailed roles for finer control over authorizations when calling the Logto Management API."),(0,i.kt)("h2",{id:"using-machine-to-machine-roles-to-protect-your-custom-api-resource"},"Using machine-to-machine roles to protect your custom API resource"),(0,i.kt)("p",null,"You can also use machine-to-machine roles to secure your custom API resources. This is especially valuable in scenarios like smart homes and healthcare. RBAC ensures that devices or hardware can only access and perform functions that are appropriate for their assigned roles."))}w.isMDXComponent=!0}}]);